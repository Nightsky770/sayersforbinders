\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{dropcaps}


\RequirePackage{lettrine}
\RequirePackage{xparse}
\RequirePackage{stackengine}

\NewDocumentCommand{\setdropcaps}{m}
{
	\renewcommand{\LettrineFontHook}{\fontspec{#1}}
}

\newsavebox\gravebox
\savebox\gravebox{\smash{\scalebox{3}[1]{$\grave{ }$}}}
\newsavebox\primebox
\savebox\primebox{\smash{\scalebox{3}[1]{$\prime$}}}
\newsavebox\circbox
\savebox\circbox{\smash{\scalebox{1.3}[1.3]{$\circ$}}}
\newcommand\accentletter[2][\primebox]{\stackon[1pt]{#2}{\usebox{#1}}}

% \newunicodechar{́}{{\normalfont ́}}
% %\newunicodechar{̀}{{\normalfont ̀}}
% \newunicodechar{̀}{{\normalfont ̀}}

\setcounter{DefaultLines}{4}

\makeatletter
\newcount\zzc


\def\zz{%
\ifnum\prevgraf<\c@L@lines
\zzc\z@
\loop
\ifnum\zzc<\prevgraf
\advance\zzc\@ne
\afterassignment\zzda\count@\L@parshape\relax
\repeat
\parshape\L@parshape
\fi}
\def\zzda{\afterassignment\zzdb\dimen@}
\def\zzdb{\afterassignment\zzdef\dimen@}
\def\zzdef#1\relax{\edef\L@parshape{\the\numexpr\count@-1\relax\space #1}}
\makeatother


